{
  "label": "GET /aliases/docs/edit",
  "captured_at": "2026-01-22T13:22:34Z",
  "preview": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Edit Alias &#34;docs&#34; - Viewer</title>\n\n\n    <!-- Bootstrap CSS -->\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <!-- Custom CSS -->\n    <link href=\"/static/custom.css\" rel=\"stylesheet\">\n\n    <!-- Font Awesome for icons -->\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n</head>\n<body>\n    <!-- Navigation -->\n    <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n        <div class=\"container\">\n            <div class=\"viewer-menu dropdown\">\n                <div class=\"btn-group viewer-menu-group\" role=\"group\">\n                    <a class=\"navbar-brand fw-bold viewer-menu-home\" href=\"/\">\n                        <i class=\"fas fa-shield-alt me-2\"></i>Viewer\n                    </a>\n                    <button\n                        class=\"btn btn-link dropdown-toggle dropdown-toggle-split viewer-menu-toggle\"\n                        type=\"button\"\n                        id=\"viewerMenuToggle\"\n     ",
  "request": {
    "method": "GET",
    "path": "/aliases/docs/edit?",
    "url": "http://localhost/aliases/docs/edit",
    "headers": [
      {
        "name": "User-Agent",
        "value": "Werkzeug/3.1.5"
      },
      {
        "name": "Host",
        "value": "localhost"
      },
      {
        "name": "Cookie",
        "value": "session=eyJfZnJlc2giOnRydWV9.aXIkmg.2htzH5qgNTnrcM0RyCjgaSSRgOY"
      }
    ],
    "query": {},
    "body": {
      "encoding": "utf-8",
      "text": ""
    }
  },
  "response": {
    "status_code": 200,
    "mimetype": "text/html",
    "headers": [
      {
        "name": "Content-Type",
        "value": "text/html; charset=utf-8"
      },
      {
        "name": "Content-Length",
        "value": "51535"
      },
      {
        "name": "Vary",
        "value": "Cookie"
      },
      {
        "name": "Set-Cookie",
        "value": "session=eyJfZnJlc2giOnRydWUsIl9wZXJtYW5lbnQiOnRydWV9.aXIkmg.Log4S9XlUxpF5hG5NhdzNLhtKBw; Expires=Sun, 22 Feb 2026 13:22:34 GMT; HttpOnly; Path=/"
      }
    ],
    "body": {
      "encoding": "utf-8",
      "text": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Edit Alias &#34;docs&#34; - Viewer</title>\n    \n\n    <!-- Bootstrap CSS -->\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <!-- Custom CSS -->\n    <link href=\"/static/custom.css\" rel=\"stylesheet\">\n\n    <!-- Font Awesome for icons -->\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n</head>\n<body>\n    <!-- Navigation -->\n    <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n        <div class=\"container\">\n            <div class=\"viewer-menu dropdown\">\n                <div class=\"btn-group viewer-menu-group\" role=\"group\">\n                    <a class=\"navbar-brand fw-bold viewer-menu-home\" href=\"/\">\n                        <i class=\"fas fa-shield-alt me-2\"></i>Viewer\n                    </a>\n                    <button\n                        class=\"btn btn-link dropdown-toggle dropdown-toggle-split viewer-menu-toggle\"\n                        type=\"button\"\n                        id=\"viewerMenuToggle\"\n                        data-bs-toggle=\"dropdown\"\n                        data-bs-auto-close=\"outside\"\n                        aria-expanded=\"false\"\n                        aria-label=\"Open Viewer navigation menu\"\n                    ></button>\n                    <ul class=\"dropdown-menu shadow\" aria-labelledby=\"viewerMenuToggle\" data-viewer-menu>\n                        <li class=\"dropdown-header text-uppercase small text-muted\">Workspace</li>\n                        <li>\n                            <a class=\"dropdown-item d-flex align-items-center gap-2\" href=\"/uploads\">\n                                <i class=\"fas fa-upload text-muted\"></i>\n                                <span>Uploads</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a class=\"dropdown-item d-flex align-items-center gap-2\" href=\"/server_events\">\n                                <i class=\"fas fa-server text-muted\"></i>\n                                <span>Server Events</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a class=\"dropdown-item d-flex align-items-center gap-2\" href=\"/history\">\n                                <i class=\"fas fa-history text-muted\"></i>\n                                <span>History</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a class=\"dropdown-item d-flex align-items-center gap-2\" href=\"/export\">\n                                <i class=\"fas fa-download text-muted\"></i>\n                                <span>Export Data</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a class=\"dropdown-item d-flex align-items-center gap-2\" href=\"/import\">\n                                <i class=\"fas fa-file-import text-muted\"></i>\n                                <span>Import Data</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a class=\"dropdown-item d-flex align-items-center gap-2\" href=\"/openapi\">\n                                <i class=\"fas fa-book text-muted\"></i>\n                                <span>API Docs</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a class=\"dropdown-item d-flex align-items-center gap-2\" href=\"/help\">\n                                <i class=\"fas fa-circle-question text-muted\"></i>\n                                <span>Help</span>\n                            </a>\n                        </li>\n                        <li><hr class=\"dropdown-divider\"></li>\n                        <li class=\"dropdown-submenu dropend\">\n                            <a\n                                class=\"dropdown-item dropdown-toggle d-flex align-items-center gap-2\"\n                                href=\"#\"\n                                role=\"button\"\n                                data-bs-toggle=\"dropdown\"\n                                data-bs-auto-close=\"outside\"\n                                aria-expanded=\"false\"\n                            >\n                                <i class=\"fas fa-link text-muted\"></i>\n                                <span>Aliases</span>\n                            </a>\n                            <ul class=\"dropdown-menu\" data-viewer-aliases>\n                                <li>\n                                    <a class=\"dropdown-item d-flex align-items-center gap-2\" href=\"/aliases\">\n                                        <i class=\"fas fa-list text-muted\"></i>\n                                        <span>All aliases</span>\n                                    </a>\n                                </li>\n                                <li><hr class=\"dropdown-divider\"></li>\n                                \n                                    \n                                        \n                                        <li>\n                                            \n                                                <a class=\"dropdown-item\" href=\"/aliases/docs\">docs</a>\n                                            \n                                        </li>\n                                    \n                                \n                            </ul>\n                        </li>\n                        <li class=\"dropdown-submenu dropend\">\n                            <a\n                                class=\"dropdown-item dropdown-toggle d-flex align-items-center gap-2\"\n                                href=\"#\"\n                                role=\"button\"\n                                data-bs-toggle=\"dropdown\"\n                                data-bs-auto-close=\"outside\"\n                                aria-expanded=\"false\"\n                            >\n                                <i class=\"fas fa-server text-muted\"></i>\n                                <span>Servers</span>\n                            </a>\n                            <ul class=\"dropdown-menu\" data-viewer-servers>\n                                <li>\n                                    <a class=\"dropdown-item d-flex align-items-center gap-2\" href=\"/servers\">\n                                        <i class=\"fas fa-list text-muted\"></i>\n                                        <span>All servers</span>\n                                    </a>\n                                </li>\n                                <li><hr class=\"dropdown-divider\"></li>\n                                \n                                    <li>\n                                        <span class=\"dropdown-item-text text-muted small\">No servers yet</span>\n                                    </li>\n                                \n                            </ul>\n                        </li>\n                        <li class=\"dropdown-submenu dropend\">\n                            <a\n                                class=\"dropdown-item dropdown-toggle d-flex align-items-center gap-2\"\n                                href=\"#\"\n                                role=\"button\"\n                                data-bs-toggle=\"dropdown\"\n                                data-bs-auto-close=\"outside\"\n                                aria-expanded=\"false\"\n                            >\n                                <i class=\"fas fa-code text-muted\"></i>\n                                <span>Variables</span>\n                            </a>\n                            <ul class=\"dropdown-menu\" data-viewer-variables>\n                                <li>\n                                    <a class=\"dropdown-item d-flex align-items-center gap-2\" href=\"/variables\">\n                                        <i class=\"fas fa-list text-muted\"></i>\n                                        <span>All variables</span>\n                                    </a>\n                                </li>\n                                <li><hr class=\"dropdown-divider\"></li>\n                                \n                                    <li>\n                                        <span class=\"dropdown-item-text text-muted small\">No variables yet</span>\n                                    </li>\n                                \n                            </ul>\n                        </li>\n                        <li class=\"dropdown-submenu dropend\">\n                            <a\n                                class=\"dropdown-item dropdown-toggle d-flex align-items-center gap-2\"\n                                href=\"#\"\n                                role=\"button\"\n                                data-bs-toggle=\"dropdown\"\n                                data-bs-auto-close=\"outside\"\n                                aria-expanded=\"false\"\n                            >\n                                <i class=\"fas fa-key text-muted\"></i>\n                                <span>Secrets</span>\n                            </a>\n                            <ul class=\"dropdown-menu\" data-viewer-secrets>\n                                <li>\n                                    <a class=\"dropdown-item d-flex align-items-center gap-2\" href=\"/secrets\">\n                                        <i class=\"fas fa-list text-muted\"></i>\n                                        <span>All secrets</span>\n                                    </a>\n                                </li>\n                                <li><hr class=\"dropdown-divider\"></li>\n                                \n                                    <li>\n                                        <span class=\"dropdown-item-text text-muted small\">No secrets yet</span>\n                                    </li>\n                                \n                            </ul>\n                        </li>\n                        <li><hr class=\"dropdown-divider\"></li>\n                        <li>\n                            <a class=\"dropdown-item d-flex align-items-center gap-2\" href=\"/routes\">\n                                <i class=\"fas fa-diagram-project text-muted\"></i>\n                                <span>Routes</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a class=\"dropdown-item d-flex align-items-center gap-2\" href=\"/source\">\n                                <i class=\"fas fa-file-code text-muted\"></i>\n                                <span>Source</span>\n                            </a>\n                        </li>\n                        <li><hr class=\"dropdown-divider\"></li>\n                        <li class=\"dropdown-header text-uppercase small text-muted\">Account</li>\n                        <li>\n                            <a class=\"dropdown-item d-flex align-items-center gap-2\" href=\"/profile\">\n                                <i class=\"fas fa-id-badge text-muted\"></i>\n                                <span>Profile</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a class=\"dropdown-item d-flex align-items-center gap-2\" href=\"/settings\">\n                                <i class=\"fas fa-sliders-h text-muted\"></i>\n                                <span>Settings</span>\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n\n            <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\">\n                <span class=\"navbar-toggler-icon\"></span>\n            </button>\n\n            <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n                <ul class=\"navbar-nav me-auto align-items-lg-center\">\n                    <li class=\"nav-item\">\n                        <a class=\"nav-link\" href=\"/search\">\n                            <i class=\"fas fa-magnifying-glass me-1\"></i>Search\n                        </a>\n                    </li>\n                </ul>\n\n                <ul class=\"navbar-nav align-items-center\">\n                    <li class=\"nav-item dropdown\">\n                        <a\n                            class=\"nav-link text-light dropdown-toggle d-flex align-items-center\"\n                            href=\"#\"\n                            id=\"pageInfoMenu\"\n                            role=\"button\"\n                            data-bs-toggle=\"dropdown\"\n                            aria-expanded=\"false\"\n                            title=\"Page information and logs\"\n                            aria-label=\"Page information and logs\"\n                        >\n                            <i class=\"fas fa-circle-info\"></i>\n                        </a>\n                        <ul class=\"dropdown-menu dropdown-menu-end\" aria-labelledby=\"pageInfoMenu\">\n                            <li>\n                                <a class=\"dropdown-item\" href=\"/help\">\n                                    <i class=\"fas fa-circle-question me-2\"></i>Help\n                                </a>\n                            </li>\n                            <li><hr class=\"dropdown-divider\"></li>\n                            <li>\n                                <a class=\"dropdown-item\" href=\"/meta/aliases/docs/edit.html\">\n                                    About this page\n                                </a>\n                            </li>\n                            <li>\n                                <a class=\"dropdown-item\" href=\"/history?start=\">\n                                    History\n                                </a>\n                            </li>\n                            <li>\n                                <a class=\"dropdown-item\" href=\"/server_events?start=\">\n                                    Server Events\n                                </a>\n                            </li>\n                        </ul>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </nav>\n\n    <!-- Flash Messages -->\n    \n        \n    \n\n    <!-- Main Content -->\n    <main class=\"py-4\">\n        \n<div class=\"container-fluid py-4 px-4\">\n    <div class=\"d-flex flex-wrap justify-content-between align-items-center gap-3 mb-4\">\n        <h2 class=\"mb-0\"><i class=\"fas fa-link me-2\"></i>Edit Alias &#34;docs&#34;</h2>\n        <a href=\"/aliases\" class=\"btn btn-secondary\">\n            <i class=\"fas fa-arrow-left me-1\"></i>Back to Aliases\n        </a>\n    </div>\n\n    <form method=\"POST\" class=\"card shadow-sm\">\n        \n        <div class=\"card-header\">\n            <ul class=\"nav nav-tabs card-header-tabs\" id=\"alias-form-tabs\" role=\"tablist\">\n                <li class=\"nav-item\" role=\"presentation\">\n                    <button class=\"nav-link active\" id=\"alias-form-config-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#alias-form-config\" type=\"button\" role=\"tab\" aria-controls=\"alias-form-config\" aria-selected=\"true\">\n                        <i class=\"fas fa-sliders-h me-1\"></i>Configuration\n                    </button>\n                </li>\n                <li class=\"nav-item\" role=\"presentation\">\n                    <button class=\"nav-link\" id=\"alias-form-matcher-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#alias-form-matcher\" type=\"button\" role=\"tab\" aria-controls=\"alias-form-matcher\" aria-selected=\"false\">\n                        <i class=\"fas fa-vial me-1\"></i>Interactive Matcher\n                    </button>\n                </li>\n                <li class=\"nav-item\" role=\"presentation\">\n                    <button class=\"nav-link\" id=\"alias-form-guidance-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#alias-form-guidance\" type=\"button\" role=\"tab\" aria-controls=\"alias-form-guidance\" aria-selected=\"false\">\n                        <i class=\"fas fa-lightbulb me-1\"></i>Guidance\n                    </button>\n                </li>\n                \n                <li class=\"nav-item\" role=\"presentation\">\n                    <button class=\"nav-link\" id=\"alias-form-current-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#alias-form-current\" type=\"button\" role=\"tab\" aria-controls=\"alias-form-current\" aria-selected=\"false\">\n                        <i class=\"fas fa-circle-info me-1\"></i>Current Alias\n                    </button>\n                </li>\n                \n            </ul>\n        </div>\n\n        <div class=\"card-body\">\n            <div class=\"tab-content\" id=\"alias-form-tabs-content\">\n                <div class=\"tab-pane fade show active\" id=\"alias-form-config\" role=\"tabpanel\" aria-labelledby=\"alias-form-config-tab\">\n                    <div class=\"row g-4\">\n                        <div class=\"col-12\">\n                            <label class=\"form-label\" for=\"name\">Alias Name</label>\n                            <div\n                                class=\"d-flex flex-wrap align-items-start gap-2\"\n                                data-rename-control\n                                data-name-field=\"name\"\n                                data-original-name=\"docs\"\n                                data-rename-template=\"Rename to __name__\"\n                                data-save-as-template=\"Save As __name__\"\n                                data-name-pattern=\"^[a-zA-Z0-9._-]+$\"\n                            >\n                                <div class=\"flex-grow-1\">\n                                    <input class=\"form-control\" id=\"name\" name=\"name\" required type=\"text\" value=\"docs\">\n                                    \n                                        \n                                        <div class=\"form-text\">\n                                            Alias names can only contain letters, numbers, dots, hyphens, and underscores. This is the path visitors type:\n                                            \n                                                <code><a href=\"/docs\">/docs</a></code>\n                                            .\n                                        </div>\n                                    \n                                </div>\n                                <div class=\"d-flex flex-column gap-2 align-items-start\">\n                                    <div class=\"d-flex gap-2 flex-wrap\">\n                                        <input class=\"btn btn-primary\" data-default-label=\"Save Alias\" data-primary-save=\"true\" id=\"submit\" name=\"submit\" type=\"submit\" value=\"Save Alias\">\n                                        <button\n                                            type=\"submit\"\n                                            name=\"submit_action\"\n                                            value=\"save-as\"\n                                            class=\"btn btn-outline-primary d-none\"\n                                            data-save-as-button\n                                            data-default-label=\"Save As\"\n                                        >\n                                            Save As\n                                        </button>\n                                    </div>\n                                    <div\n                                        class=\"d-flex align-items-center gap-2 small\"\n                                        data-alias-parse-indicator\n                                        data-alias-parse-endpoint=\"/aliases/definition-status\"\n                                        aria-live=\"polite\"\n                                    >\n                                        <span class=\"badge text-bg-secondary\" data-alias-parse-label>Checking…</span>\n                                        <span class=\"text-muted\" data-alias-parse-message>Validating definition…</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"col-12\">\n                            <label class=\"form-label\" for=\"definition\">Alias Definition</label>\n                            <div class=\"position-relative\">\n                                <textarea class=\"form-control font-monospace\" id=\"definition\" name=\"definition\" placeholder=\"pattern -&gt; /target [glob]\n# Add related aliases or notes on following lines\" rows=\"10\">\r\ndocs -&gt; /guides</textarea>\n                                <div\n                                    class=\"form-control p-0 code-editor d-none\"\n                                    data-code-editor-for=\"definition\"\n                                    data-code-editor-language=\"text\"\n                                    data-code-editor-detect-language=\"true\"\n                                ></div>\n                            </div>\n                            \n                                <div class=\"form-text\">Define the alias on the first line using <code>pattern -> /target [options]</code>. Additional lines can capture nested shortcuts, documentation, or examples.</div>\n                            \n                            \n<div class=\"cid-editor-controls d-flex align-items-center gap-2 mt-2\" data-cid-editor-for=\"definition\">\n    \n    <button type=\"button\"\n            class=\"btn btn-outline-secondary btn-sm d-none\"\n            data-cid-expand\n            title=\"Replace CID with its contents\">\n        <i class=\"fas fa-expand-alt me-1\"></i>Expand CID\n    </button>\n\n    \n    <button type=\"button\"\n            class=\"btn btn-outline-secondary btn-sm d-none\"\n            data-cid-compress\n            title=\"Replace content with its CID\">\n        <i class=\"fas fa-compress-alt me-1\"></i>Convert to CID\n    </button>\n\n    \n    <span class=\"d-none\" data-cid-popup></span>\n\n    \n    <span class=\"small text-muted d-none\" data-cid-status></span>\n\n    \n</div>\n\n                        </div>\n\n                        \n\n                        \n\n                        <div class=\"col-12\">\n                            <div class=\"row g-3\">\n                                <div class=\"col-12 col-md-6\">\n                                    <div class=\"form-check form-switch\">\n                                        <input checked class=\"form-check-input\" id=\"enabled\" name=\"enabled\" role=\"switch\" type=\"checkbox\" value=\"y\">\n                                        <label class=\"form-check-label\" for=\"enabled\">Enabled</label>\n                                        <div class=\"form-text\">Disabled aliases remain visible for editing and search but will not route requests.</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"tab-pane fade\" id=\"alias-form-matcher\" role=\"tabpanel\" aria-labelledby=\"alias-form-matcher-tab\">\n                    <div class=\"mb-3\">\n                        <p class=\"text-muted\">Use the live matcher to try paths without leaving the page. Results refresh automatically as you change the alias name or definition.</p>\n                        <div class=\"card border-0 shadow-sm\">\n                            <div class=\"card-body\" data-alias-matcher data-alias-matcher-endpoint=\"/aliases/match-preview\">\n                                <label class=\"form-label\" for=\"alias-live-matcher\">Interactive Matcher</label>\n                                <textarea id=\"alias-live-matcher\" class=\"form-control\" rows=\"3\" placeholder=\"/docs/latest\" data-alias-matcher-input></textarea>\n                                <div class=\"form-text\">Type URLs here to instantly check whether they match the current alias settings.</div>\n                                <div class=\"mt-3\">\n                                    <label class=\"form-label mb-1\">Alias Definition Preview</label>\n                                    <div class=\"alias-definition-preview border rounded bg-body-tertiary\" data-alias-definition-display style=\"max-height: 240px; overflow-y: auto;\"></div>\n                                    <div class=\"form-text\">Highlights show how the definition responds to the paths above.</div>\n                                </div>\n                                <div class=\"mt-3\" data-alias-matcher-results role=\"status\" aria-live=\"polite\"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"tab-pane fade\" id=\"alias-form-guidance\" role=\"tabpanel\" aria-labelledby=\"alias-form-guidance-tab\">\n                    <div class=\"alert alert-info\" role=\"alert\">\n    <h5 class=\"alert-heading\">Multi-line alias definitions</h5>\n    <p class=\"mb-3\">\n        Use the alias definition field to capture multi-line context for related shortcuts, nested routes,\n        and pattern behaviour. Start each alias with <code>pattern -> /target [options]</code>—even a single-line\n        alias follows this format. The text you enter here travels with workspace exports and returns on import,\n        keeping documentation and routing intent in sync. Embed saved variables inside braces\n        (for example <code>{status-page}</code>) to reuse workspace configuration when generating targets or\n        patterns.\n    </p>\n    <p class=\"mb-3\">\n        Automated coverage for these examples lives in\n        <a href=\"/source/tests/test_alias_definition.py\" class=\"alert-link\">tests/test_alias_definition.py</a>\n        and\n        <a href=\"/source/tests/test_alias_routing.py\" class=\"alert-link\">tests/test_alias_routing.py</a>.\n    </p>\n    \n    <pre class=\"mb-0 small bg-light border rounded p-3\"><code># Indent to create nested aliases\ndocs/* -> /documentation/?q=* [glob]           # redirects /docs/anything to /documentation/?q=anything\ndocs -> /documentation                         # redirects /docs to /documentation, but not /docs/anything\n    api -> /docs/api/architecture/overview.html  # redirects /docs/api to /docs/api/architecture/overview.html\n    guide -> /guides/getting-started.html        # redirects /docs/guide to /guides/getting-started.html\n\n# Pair literal roots with glob aliases for deeper paths\nstatus -> /status-page                         # /status stays on the overview\nstatus/* -> /status/sections/* [glob]          # nested paths reuse the captured suffix\n\n# Reuse saved variables in aliases\nstatus -> {status-page}                        # redirect /status using a saved variable value\nstatus/* -> {status-page}/sections/* [glob]    # combine variables with captured segments\n\n# Declaration order controls overlapping matches\ndocs/* -> /preferred [glob]                    # first matching declaration wins for /docs/topic/guide\ndocs/*/guide -> /special [glob]                # later declarations only run if earlier ones fail\n\n# Pattern matching\nsearch/* -> /search [glob]            # redirects /search/anything to /search\nblog-* -> /posts [glob, ignore-case]  # redirects blog-anything to /posts\n\n# Advanced patterns\n/article/\\d+ -> /articles [regex]              # redirects /article/123 to /articles\n/user/<id> -> /user-profile/<id>/view [flask]  # redirects /user/123 to /user-profile/123/view\n\n# Reuse matched segments in the target\ndocs/*/pages/* -> /archive/*/section/* [glob]  # copies wildcard segments into the destination</code></pre>\n</div>\n                </div>\n\n                \n                <div class=\"tab-pane fade\" id=\"alias-form-current\" role=\"tabpanel\" aria-labelledby=\"alias-form-current-tab\">\n                    <div class=\"row g-4\">\n                        <div class=\"col-md-6\">\n                            <div class=\"bg-light border rounded p-3 h-100\">\n                                <strong>Name:</strong><br>\n                                <code>docs</code>\n                            </div>\n                        </div>\n                        <div class=\"col-md-6\">\n                            <div class=\"bg-light border rounded p-3 h-100\">\n                                <strong>Last Updated:</strong><br>\n                                2026-01-22 13:22:34\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                \n            </div>\n        </div>\n\n        <div class=\"card-footer d-flex flex-wrap justify-content-between align-items-center gap-2\">\n            <a href=\"/aliases\" class=\"btn btn-secondary\">\n                <i class=\"fas fa-times me-1\"></i>Cancel\n            </a>\n            <div class=\"d-flex gap-2 flex-wrap align-items-center\">\n                \n    \n    \n        \n    \n    \n    <div class=\"btn-group\" role=\"group\">\n        <button type=\"button\"\n                class=\"btn btn-outline-primary\"\n                data-ai-trigger\n                data-ai-target-id=\"definition\">\n            <i class=\"fas fa-robot me-1\"></i>AI\n        </button>\n        <button type=\"button\"\n                class=\"btn btn-outline-primary dropdown-toggle dropdown-toggle-split\"\n                data-bs-toggle=\"dropdown\"\n                aria-expanded=\"false\"\n                aria-label=\"AI options\">\n            <span class=\"visually-hidden\">AI options</span>\n        </button>\n        <ul class=\"dropdown-menu\">\n            <li>\n                <a class=\"dropdown-item\"\n                   href=\"#\"\n                   data-ai-request-editor\n                   data-ai-target-id=\"definition\">\n                    AI request editor\n                </a>\n            </li>\n            <li><a class=\"dropdown-item\" href=\"/aliases/ai\">AI action editor</a></li>\n            <li><a class=\"dropdown-item\" href=\"/servers/ai_stub\">Sample AI server</a></li>\n            <li><a class=\"dropdown-item\" href=\"/ai_about\">About AI</a></li>\n        </ul>\n    </div>\n\n            </div>\n        </div>\n\n        <div class=\"card-body border-top bg-body-tertiary\">\n            \n    \n    \n    \n    <div class=\"mb-3 ai-text-assistant\"\n         data-ai-target-id=\"definition\"\n         data-ai-target-label=\"alias definition\"\n         data-ai-history-limit=\"10\"\n         data-ai-entity-type=\"alias\"\n         data-ai-entity-name=\"docs\"\n         data-ai-entity-name-field=\"name\"\n         data-ai-context='{\"form\": \"alias_form\"}'>\n        <label for=\"definition-ai-input\" class=\"form-label\">Ask AI to edit the alias definition</label>\n        <textarea id=\"definition-ai-input\"\n                  class=\"form-control\"\n                  rows=\"3\"\n                  data-ai-input\n                  placeholder=\"Share instructions for AI or summarise manual edits to the alias definition.\"></textarea>\n        <div class=\"form-text\">Describe how the AI should adjust the alias definition before saving.</div>\n        <input type=\"hidden\" name=\"change_message\" data-change-message-store>\n        <div class=\"alert alert-info d-none mt-3\"\n             id=\"definition-ai-output\"\n             data-ai-output\n             role=\"status\"></div>\n        <div class=\"mt-3\">\n            <label class=\"form-label small text-uppercase fw-semibold\">Recent alias edits and requests</label>\n            <div class=\"list-group list-group-flush border rounded\" data-ai-history-list>\n                \n            </div>\n            <div class=\"text-muted small mt-2 \" data-ai-history-empty>\n                No interactions yet.\n            </div>\n        </div>\n    </div>\n\n        </div>\n    </form>\n</div>\n\n    </main>\n\n    <!-- Footer -->\n    <footer class=\"bg-dark text-light py-4 mt-5\">\n        <div class=\"container\">\n            <div class=\"row\">\n                <div class=\"col-md-6\">\n                    <h5>Viewer</h5>\n                    <p class=\"text-muted\">Secure content management platform</p>\n                </div>\n                <div class=\"col-md-6 text-md-end\">\n                    <a href=\"/source/authorization.py\" class=\"text-light\" target=\"_blank\">User management is handled externally.</a>\n                </div>\n            </div>\n            <hr class=\"my-3\">\n            <div class=\"text-center text-muted\">\n                <small>&copy; 2025 Viewer. All rights reserved.</small>\n            </div>\n        </div>\n    </footer>\n\n    <!-- Bootstrap JS -->\n    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\"></script>\n\n    <script src=\"/static/js/ai_assistant.js\"></script>\n\n    <script>\n    document.addEventListener('click', function (event) {\n        const trigger = event.target.closest('.cid-copy-action');\n        if (!trigger) {\n            return;\n        }\n\n        event.preventDefault();\n\n        const copyPath = trigger.getAttribute('data-copy-path');\n        if (!copyPath) {\n            return;\n        }\n\n        const originalHtml = trigger.innerHTML;\n\n        navigator.clipboard.writeText(`${window.location.origin}${copyPath}`).then(() => {\n            trigger.innerHTML = '<i class=\"fas fa-check text-success me-2\"></i>Copied!';\n            trigger.classList.add('disabled');\n\n            const dropdownToggle = trigger.closest('.dropdown')?.querySelector('[data-bs-toggle=\"dropdown\"]');\n            if (dropdownToggle && window.bootstrap && window.bootstrap.Dropdown) {\n                const dropdownInstance = window.bootstrap.Dropdown.getInstance(dropdownToggle) || new window.bootstrap.Dropdown(dropdownToggle);\n                dropdownInstance.hide();\n            }\n\n            setTimeout(() => {\n                trigger.innerHTML = originalHtml;\n                trigger.classList.remove('disabled');\n            }, 2000);\n        }).catch(() => {\n            trigger.innerHTML = '<i class=\"fas fa-exclamation-triangle text-danger me-2\"></i>Copy failed';\n            setTimeout(() => {\n                trigger.innerHTML = originalHtml;\n            }, 2000);\n        });\n    });\n    </script>\n\n    \n    \n    <script src=\"https://cdn.jsdelivr.net/npm/ace-builds@1.32.6/src-min-noconflict/ace.js\"></script>\n    <script src=\"/static/js/code_editor.js\"></script>\n    <script src=\"/static/js/rename_controls.js\"></script>\n    <script src=\"/static/js/cid_editor_controls.js\"></script>\n    <script>\n    document.addEventListener('DOMContentLoaded', function () {\n    var matcherContainer = document.querySelector('[data-alias-matcher]');\n    var nameField = document.getElementById(\"name\");\n    var definitionField = document.getElementById(\"definition\");\n    var parseIndicator = document.querySelector('[data-alias-parse-indicator]');\n    var parseEndpoint = parseIndicator ? parseIndicator.getAttribute('data-alias-parse-endpoint') : null;\n    var parseLabel = parseIndicator ? parseIndicator.querySelector('[data-alias-parse-label]') : null;\n    var parseMessage = parseIndicator ? parseIndicator.querySelector('[data-alias-parse-message]') : null;\n    var parseDebounceTimer;\n    var parseController;\n\n    var aliasTemplateButtons = document.querySelectorAll('[data-alias-template-id]');\n    var aliasTemplates = [];\n    if (aliasTemplateButtons.length && aliasTemplates.length) {\n        var aliasTemplateMap = {};\n        aliasTemplates.forEach(function (template) {\n            if (template && typeof template.id !== 'undefined') {\n                aliasTemplateMap[String(template.id)] = template;\n            }\n        });\n\n        aliasTemplateButtons.forEach(function (button) {\n            button.addEventListener('click', function () {\n                var templateId = button.getAttribute('data-alias-template-id');\n                if (!templateId) {\n                    return;\n                }\n                var templateData = aliasTemplateMap[String(templateId)];\n                if (!templateData) {\n                    return;\n                }\n\n                var suggestedName = templateData.suggested_name || templateData.name || '';\n                if (nameField && suggestedName) {\n                    nameField.value = suggestedName;\n                    nameField.dispatchEvent(new Event('input', { bubbles: true }));\n                }\n\n                var definitionValue = templateData.definition || '';\n                if (definitionField) {\n                    var editorController = window.codeEditors ? window.codeEditors[definitionField.id] : null;\n                    if (editorController && typeof editorController.setValue === 'function') {\n                        editorController.setValue(definitionValue);\n                        if (typeof editorController.focus === 'function') {\n                            editorController.focus();\n                        }\n                        if (typeof editorController.scrollIntoView === 'function') {\n                            editorController.scrollIntoView();\n                        }\n                    } else {\n                        definitionField.value = definitionValue;\n                        definitionField.dispatchEvent(new Event('input', { bubbles: true }));\n                        definitionField.focus();\n                    }\n                }\n\n                button.classList.add('active');\n                setTimeout(function () {\n                    button.classList.remove('active');\n                }, 1200);\n            });\n        });\n    }\n\n    function escapeHtml(value) {\n        return value.replace(/[&<>\"']/g, function (character) {\n            switch (character) {\n                case '&':\n                    return '&amp;';\n                case '<':\n                    return '&lt;';\n                case '>':\n                    return '&gt;';\n                case '\"':\n                    return '&quot;';\n                case \"'\":\n                    return '&#39;';\n                default:\n                    return character;\n            }\n        });\n    }\n\n    function setParseIndicator(state, message) {\n        if (!parseIndicator || !parseLabel || !parseMessage) {\n            return;\n        }\n\n        parseIndicator.classList.remove('d-none');\n\n        if (state === 'valid') {\n            parseLabel.className = 'badge text-bg-success';\n            parseLabel.textContent = 'Valid';\n            parseMessage.className = 'small text-success';\n            if (message) {\n                parseMessage.textContent = message;\n                parseMessage.classList.remove('d-none');\n            } else {\n                parseMessage.textContent = '';\n                parseMessage.classList.add('d-none');\n            }\n        } else if (state === 'invalid') {\n            parseLabel.className = 'badge text-bg-danger';\n            parseLabel.textContent = 'Invalid';\n            parseMessage.className = 'small text-danger';\n            parseMessage.textContent = message || 'Alias definition does not parse.';\n            parseMessage.classList.remove('d-none');\n        } else {\n            parseLabel.className = 'badge text-bg-secondary';\n            parseLabel.textContent = 'Checking…';\n            parseMessage.className = 'small text-muted';\n            parseMessage.textContent = message || 'Validating definition…';\n            parseMessage.classList.remove('d-none');\n        }\n    }\n\n    function scheduleParseCheck() {\n        if (!parseEndpoint) {\n            return;\n        }\n\n        clearTimeout(parseDebounceTimer);\n        parseDebounceTimer = setTimeout(runParseCheck, 300);\n    }\n\n    function runParseCheck() {\n        if (!parseEndpoint) {\n            return;\n        }\n\n        if (parseController) {\n            parseController.abort();\n        }\n\n        parseController = new AbortController();\n        setParseIndicator('checking');\n\n        fetch(parseEndpoint, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name: nameField ? nameField.value : '',\n                definition: definitionField ? definitionField.value : ''\n            }),\n            signal: parseController.signal\n        })\n            .then(function (response) {\n                return response.json()\n                    .then(function (data) {\n                        return { ok: response.ok, data: data };\n                    })\n                    .catch(function () {\n                        return { ok: response.ok, data: {} };\n                    });\n            })\n            .then(function (result) {\n                parseController = null;\n\n                if (result.ok && result.data && result.data.ok) {\n                    var successMessage = result.data.message ? String(result.data.message) : '';\n                    setParseIndicator('valid', successMessage);\n                    return;\n                }\n\n                var errorMessage = '';\n                if (result.data && result.data.error) {\n                    errorMessage = String(result.data.error);\n                } else if (!result.ok) {\n                    errorMessage = 'Unable to validate definition.';\n                }\n                setParseIndicator('invalid', errorMessage);\n            })\n            .catch(function (error) {\n                if (error.name === 'AbortError') {\n                    return;\n                }\n                parseController = null;\n                setParseIndicator('invalid', 'Unable to validate definition.');\n            });\n    }\n\n    if (nameField) {\n        nameField.addEventListener('input', scheduleParseCheck);\n    }\n    if (definitionField) {\n        definitionField.addEventListener('input', scheduleParseCheck);\n    }\n\n    if (matcherContainer) {\n        var matcherInput = matcherContainer.querySelector('[data-alias-matcher-input]');\n        var matcherResults = matcherContainer.querySelector('[data-alias-matcher-results]');\n        var matcherEndpoint = matcherContainer.getAttribute('data-alias-matcher-endpoint');\n        var definitionPreview = matcherContainer.querySelector('[data-alias-definition-display]');\n        var debounceTimer;\n        var pendingController;\n\n        function renderDefinitionPreviewFromText(definitionText) {\n            if (!definitionPreview) {\n                return;\n            }\n\n            var lines = (definitionText || '').split(/\\r?\\n/);\n            var hasContent = lines.some(function (line) { return line.length > 0; });\n\n            if (!hasContent) {\n                definitionPreview.innerHTML = '<div class=\"px-2 py-3 text-muted small\">Definition preview will appear here.</div>';\n                return;\n            }\n\n            var html = lines.map(function (line, index) {\n                var classes = ['d-flex', 'align-items-start', 'gap-2', 'px-2', 'py-1', 'font-monospace', 'bg-body-tertiary'];\n                if (index !== lines.length - 1) {\n                    classes.push('border-bottom', 'border-light');\n                }\n                var displayText = line ? escapeHtml(line) : '&nbsp;';\n                return '<div class=\"' + classes.join(' ') + '\">' +\n                    '<span class=\"text-muted small pt-1\" style=\"width: 2.5rem;\">' + (index + 1) + '.</span>' +\n                    '<span class=\"text-muted pt-1\"><i class=\"fas fa-circle\"></i></span>' +\n                    '<span class=\"flex-grow-1\">' + displayText + '</span>' +\n                '</div>';\n            }).join('');\n\n            definitionPreview.innerHTML = html;\n        }\n\n        function renderDefinitionPreview(definitionData) {\n            if (!definitionPreview) {\n                return;\n            }\n\n            if (!definitionData || !Array.isArray(definitionData.lines) || !definitionData.lines.length) {\n                renderDefinitionPreviewFromText(definitionField ? definitionField.value : '');\n                return;\n            }\n\n            var lines = definitionData.lines;\n            var hasActivePaths = !!definitionData.has_active_paths;\n\n            var html = lines.map(function (line, index) {\n                var classes = ['d-flex', 'align-items-start', 'gap-2', 'px-2', 'py-1', 'font-monospace'];\n                if (index !== lines.length - 1) {\n                    classes.push('border-bottom', 'border-light');\n                }\n\n                var indicatorClass = 'text-muted';\n                var indicatorIcon = 'fa-circle';\n\n                if (line.is_mapping) {\n                    if (line.has_error) {\n                        classes.push('bg-danger-subtle', 'border-start', 'border-4', 'border-danger');\n                        indicatorClass = 'text-danger';\n                        indicatorIcon = 'fa-triangle-exclamation';\n                    } else if (hasActivePaths) {\n                        if (line.matches_any) {\n                            classes.push('bg-success-subtle', 'border-start', 'border-4', 'border-success');\n                            indicatorClass = 'text-success';\n                            indicatorIcon = 'fa-check';\n                        } else {\n                            classes.push('bg-danger-subtle', 'border-start', 'border-4', 'border-danger');\n                            indicatorClass = 'text-danger';\n                            indicatorIcon = 'fa-times';\n                        }\n                    } else {\n                        classes.push('bg-body-secondary-subtle');\n                    }\n                } else {\n                    classes.push('bg-body-tertiary');\n                }\n\n                var lineText = line.text ? escapeHtml(line.text) : '&nbsp;';\n                var errorHtml = '';\n                if (line.has_error && line.parse_error) {\n                    errorHtml = '<span class=\"text-danger small ms-2\">' + escapeHtml(String(line.parse_error)) + '</span>';\n                }\n\n                return '<div class=\"' + classes.join(' ') + '\">' +\n                    '<span class=\"text-muted small pt-1\" style=\"width: 2.5rem;\">' + line.number + '.</span>' +\n                    '<span class=\"' + indicatorClass + ' pt-1\"><i class=\"fas ' + indicatorIcon + '\"></i></span>' +\n                    '<span class=\"flex-grow-1\">' + lineText + errorHtml + '</span>' +\n                '</div>';\n            }).join('');\n\n            definitionPreview.innerHTML = html;\n        }\n\n        function renderPlaceholder() {\n            if (matcherResults) {\n                matcherResults.innerHTML = '<div class=\"text-muted small\">Type a path above to preview matches instantly.</div>';\n            }\n            renderDefinitionPreviewFromText(definitionField ? definitionField.value : '');\n        }\n\n        function scheduleMatcherUpdate() {\n            if (!matcherEndpoint || !matcherInput) {\n                return;\n            }\n            clearTimeout(debounceTimer);\n            debounceTimer = setTimeout(runMatcherUpdate, 250);\n        }\n\n        function runMatcherUpdate() {\n            if (!matcherEndpoint || !matcherInput) {\n                return;\n            }\n\n            var rawLines = matcherInput.value.split(/\\r?\\n/);\n            var hasContent = rawLines.some(function (line) {\n                return line.trim().length > 0;\n            });\n\n            if (!hasContent) {\n                if (pendingController) {\n                    pendingController.abort();\n                    pendingController = null;\n                }\n                renderPlaceholder();\n                return;\n            }\n\n            if (pendingController) {\n                pendingController.abort();\n            }\n            pendingController = new AbortController();\n\n            fetch(matcherEndpoint, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    name: nameField ? nameField.value : '',\n                    definition: definitionField ? definitionField.value : '',\n                    paths: rawLines\n                }),\n                signal: pendingController.signal\n            })\n                .then(function (response) {\n                    return response.json()\n                        .then(function (data) {\n                            return { ok: response.ok, data: data };\n                        })\n                        .catch(function () {\n                            return { ok: response.ok, data: {} };\n                        });\n                })\n                .then(function (result) {\n                    pendingController = null;\n                    renderDefinitionPreview(result.data && result.data.definition);\n\n                    if (!matcherResults) {\n                        return;\n                    }\n\n                    if (!result.ok) {\n                        var errorMessage = (result.data && result.data.error) ? result.data.error : 'Unable to evaluate paths.';\n                        matcherResults.innerHTML = '<div class=\"text-danger small\">' + escapeHtml(errorMessage) + '</div>';\n                        return;\n                    }\n\n                    var patternText = result.data && result.data.pattern ? String(result.data.pattern) : '';\n                    var items = Array.isArray(result.data && result.data.results) ? result.data.results : [];\n\n                    if (!items.length) {\n                        matcherResults.innerHTML = '<div class=\"text-muted small\">No paths to evaluate.</div>';\n                        return;\n                    }\n\n                    var listHtml = '<div class=\"small mb-2\">Matching against <code>' + escapeHtml(patternText) + '</code></div>';\n                    listHtml += '<ul class=\"list-unstyled mb-0\">';\n                    items.forEach(function (item) {\n                        var matches = !!item.matches;\n                        var badgeClass = matches ? 'bg-success' : 'bg-danger';\n                        var icon = matches ? 'fa-check' : 'fa-times';\n                        var valueText = item.value == null ? '' : String(item.value);\n                        var displayText = valueText.trim() || '(empty)';\n                        listHtml += '<li class=\"d-flex align-items-center gap-2 mb-1\">'\n                            + '<span class=\"badge ' + badgeClass + '\"><i class=\"fas ' + icon + '\"></i></span>'\n                            + '<code class=\"mb-0\">' + escapeHtml(displayText) + '</code>'\n                            + '</li>';\n                    });\n                    listHtml += '</ul>';\n                    matcherResults.innerHTML = listHtml;\n                })\n                .catch(function (error) {\n                    if (error.name === 'AbortError') {\n                        return;\n                    }\n                    pendingController = null;\n                    renderDefinitionPreviewFromText(definitionField ? definitionField.value : '');\n                    if (!matcherResults) {\n                        return;\n                    }\n                    matcherResults.innerHTML = '<div class=\"text-danger small\">Unable to evaluate paths.</div>';\n                });\n        }\n\n        if (matcherInput) {\n            matcherInput.addEventListener('input', scheduleMatcherUpdate);\n        }\n        if (definitionField) {\n            definitionField.addEventListener('input', function () {\n                renderDefinitionPreviewFromText(definitionField.value);\n                scheduleMatcherUpdate();\n            });\n        }\n        if (nameField) {\n            nameField.addEventListener('input', scheduleMatcherUpdate);\n        }\n\n        renderPlaceholder();\n    }\n\n    if (parseEndpoint) {\n        runParseCheck();\n    }\n});\n</script>\n\n</body>\n</html>"
    }
  },
  "screenshot": {
    "captured": true,
    "placeholder": false
  }
}