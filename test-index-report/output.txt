Scanning for unit tests...
Found 3651 unit tests
Scanning for integration tests...
Found 545 integration tests
Scanning for property tests...
Found 14 property tests
Scanning for Gauge tests...
Found 153 Gauge scenarios

Total tests found: 4363

Test index written to TEST_INDEX.md
--- /tmp/tmp.KJmBIAAjYv	2025-12-30 17:20:21.213554378 +0000
+++ TEST_INDEX.md	2025-12-30 17:20:21.193554359 +0000
@@ -2,15 +2,15 @@
 
 This index lists all tests in the project, organized by type.
 
-**Total Tests:** 4240
-- Unit Tests: 3528
+**Total Tests:** 4363
+- Unit Tests: 3651
 - Integration Tests: 545
 - Property Tests: 14
 - Gauge Tests: 153
 
 ## Unit Tests
 
-Total: 3528 tests
+Total: 3651 tests
 
 - [Test that pending calls are cleared after being used.](tests/test_ai_eval_reports.py:87)
 - [Test that __call__ uses pending external calls from call_with_capture.](tests/test_ai_eval_reports.py:68)
@@ -1654,6 +1654,13 @@
 - [Test that ai_assist reads AI_SYSTEM_PROMPTS variable.](tests/test_ai_system_prompts.py:170)
 - [test_ai_stub_invocation_returns_expected_payload](tests/test_ai_stub_server.py:76)
 - [test_ai_stub_resources_created](tests/test_ai_stub_server.py:34)
+- [test_airtable_api_errors_are_returned](tests/test_external_servers_slack_airtable.py:172)
+- [test_airtable_create_invalid_json_returns_error](tests/test_external_servers_slack_airtable.py:144)
+- [test_airtable_dry_run_lists_with_preview](tests/test_external_servers_slack_airtable.py:133)
+- [test_airtable_invalid_json_response](tests/test_external_servers_slack_airtable.py:210)
+- [test_airtable_missing_credentials_and_parameters](tests/test_external_servers_slack_airtable.py:123)
+- [test_airtable_request_exception_includes_status](tests/test_external_servers_slack_airtable.py:190)
+- [test_airtable_retrieve_requires_record_id](tests/test_external_servers_slack_airtable.py:158)
 - [test_alias_definition_status_invalid_returns_error](tests/test_alias_routing.py:587)
 - [test_alias_definition_status_valid_with_variables](tests/test_alias_routing.py:567)
 - [Alias detail view should render CID targets with the standard link widget.](tests/test_routes_comprehensive.py:2410)
@@ -1687,10 +1694,18 @@
 - [Test already_exists message uses 'An' for vowel-starting entity types.](tests/test_crud_factory.py:43)
 - [test_analyze_reports_language](tests/test_server_execution.py:301)
 - [test_analyzes_valid_definition_with_main](tests/test_server_execution.py:233)
+- [test_api_error_propagates_message_and_status](tests/test_external_server_zendesk.py:139)
+- [test_api_error_propagates_status_and_message](tests/test_external_server_github.py:136)
+- [test_api_error_propagates_status_and_message](tests/test_external_server_notion.py:123)
+- [test_api_error_returns_message_and_status](tests/test_external_server_asana.py:126)
+- [test_api_error_uses_stripe_message](tests/test_external_server_stripe.py:115)
 - [Test that /api/ paths return JSON even without Accept header.](tests/test_authorization_handler.py:111)
 - [test_api_records_and_returns_updated_history](tests/test_entity_interactions.py:47)
 - [test_api_requires_entity_details](tests/test_entity_interactions.py:75)
+- [test_append_posts_rows_and_handles_api_errors](tests/test_external_server_google_sheets.py:145)
 - [test_append_query_string_with_empty_query](tests/test_alias_routing.py:95)
+- [test_append_rejects_non_row_sequences](tests/test_external_server_google_sheets.py:115)
+- [test_append_requires_valid_values_json](tests/test_external_server_google_sheets.py:102)
 - [Assigning a CID should create a new variable.](tests/test_upload_extensions.py:142)
 - [Assigning a CID should update an existing variable definition.](tests/test_upload_extensions.py:183)
 - [test_attach_response_snapshot_generates_text_preview_for_non_html](tests/test_artifacts.py:152)
@@ -1736,10 +1751,10 @@
 - [Test that binary content that's not valid UTF-8 returns None for content_text.](tests/test_cid_editor_helper.py:95)
 - [Test that boot.cid exists and has valid content.](tests/test_main.py:22)
 - [Test that boot.cid contains a valid-looking CID format.](tests/test_main.py:60)
-- [test_boot_cids_contain_expected_servers](tests/test_boot_image_server_presence.py:157)
+- [test_boot_cids_contain_expected_servers](tests/test_boot_image_server_presence.py:165)
 - [Default boot should have all commands and readonly should exclude duals.](tests/test_bash_command_reference.py:60)
-- [test_boot_source_files_contain_expected_servers](tests/test_boot_image_server_presence.py:146)
-- [test_boot_source_files_use_reference_template_paths_for_server_definitions](tests/test_boot_image_server_presence.py:170)
+- [test_boot_source_files_contain_expected_servers](tests/test_boot_image_server_presence.py:154)
+- [test_boot_source_files_use_reference_template_paths_for_server_definitions](tests/test_boot_image_server_presence.py:178)
 - [Test the boundary between literal and hashed CIDs.](tests/test_cid_class.py:360)
 - [Content exactly at 64 bytes should not be stored.](tests/test_literal_cid_storage.py:94)
 - [Test CID at the boundary of direct embedding.](tests/test_cid_editor_helper.py:67)
@@ -1957,11 +1972,13 @@
 - [Creating a CID record produces equivalent results.](tests/test_db_equivalence.py:224)
 - [create_cid_record() produces equivalent results.](tests/test_db_access_equivalence.py:173)
 - [Test creating CID record with all required fields](tests/test_cid_functionality.py:137)
+- [test_create_customer_requires_email](tests/test_external_server_stripe.py:58)
 - [Test that delete route has correct function name.](tests/test_crud_factory.py:229)
 - [Test that enabled toggle route has correct function name.](tests/test_crud_factory.py:222)
 - [Creating an export record produces equivalent results.](tests/test_db_equivalence.py:398)
 - [Creating an entity interaction produces equivalent results.](tests/test_db_equivalence.py:337)
 - [Creating a server invocation produces equivalent results.](tests/test_db_equivalence.py:368)
+- [test_create_issue_requires_title](tests/test_external_server_github.py:60)
 - [Test that create_list_route registers the correct URL pattern.](tests/test_crud_factory.py:183)
 - [Creating a page view produces equivalent results.](tests/test_db_equivalence.py:282)
 - [test_create_page_view_record_reflects_request_details](tests/test_analytics.py:108)
@@ -1970,6 +1987,7 @@
 - [Test creating PR without token returns manual preparation result.](tests/test_github_pr_integration.py:150)
 - [Test successfully creating a PR.](tests/test_github_pr_integration.py:97)
 - [Test creating PR when file already exists (update instead of create).](tests/test_github_pr_integration.py:221)
+- [test_create_requires_database_and_title](tests/test_external_server_notion.py:58)
 - [Creating a secret produces equivalent results.](tests/test_db_equivalence.py:197)
 - [Creating a server produces equivalent results.](tests/test_db_equivalence.py:26)
 - [create_server_invocation should accept ValidatedCID inputs.](tests/test_db_access.py:262)
@@ -1977,6 +1995,7 @@
 - [Snapshot should generate name if not provided.](tests/test_db_snapshot.py:54)
 - [Snapshot creation should fail in disk mode.](tests/test_db_snapshot.py:23)
 - [Snapshot should save current database state.](tests/test_db_snapshot.py:30)
+- [test_create_ticket_requires_subject_and_comment](tests/test_external_server_zendesk.py:59)
 - [Creating a variable produces equivalent results.](tests/test_db_equivalence.py:160)
 - [Test that create_view_route uses the custom parameter name.](tests/test_crud_factory.py:197)
 - [Test created success message.](tests/test_crud_factory.py:28)
@@ -2076,6 +2095,17 @@
 - [Disabled server should not be matched as 'server' type.](tests/test_pipeline_parameter_binding.py:281)
 - [Disabled server returns None.](tests/test_pipeline_execution.py:401)
 - [Each documented example should behave like the direct bash invocation.](tests/test_bash_command_reference.py:87)
+- [test_dry_run_preview_create](tests/test_external_server_notion.py:90)
+- [test_dry_run_preview_for_create_customer](tests/test_external_server_stripe.py:79)
+- [test_dry_run_preview_for_create_task](tests/test_external_server_asana.py:73)
+- [test_dry_run_preview_for_list_customers](tests/test_external_server_stripe.py:70)
+- [test_dry_run_preview_for_list_projects](tests/test_external_server_asana.py:64)
+- [test_dry_run_preview_retrieve](tests/test_external_server_notion.py:82)
+- [test_dry_run_preview_search](tests/test_external_server_notion.py:74)
+- [test_dry_run_returns_preview_for_create](tests/test_external_server_github.py:91)
+- [test_dry_run_returns_preview_for_create](tests/test_external_server_zendesk.py:92)
+- [test_dry_run_returns_preview_for_list](tests/test_external_server_github.py:82)
+- [test_dry_run_shows_preview_without_calling_api](tests/test_external_server_google_sheets.py:85)
 - [Test dumping in-memory DB to SQLite file.](tests/test_db_snapshot.py:153)
 - [Test that dumping raises error if not in memory mode.](tests/test_db_snapshot.py:184)
 - [Test that creating a duplicate CID raises IntegrityError. This test ensures that attempting to create a CID with a path that already exists will raise an IntegrityError due to the UNIQUE constraint on the path column.](tests/test_db_access.py:144)
@@ -2173,6 +2203,8 @@
 - [Test that error handler provides fallback when stack trace building fails.](tests/test_error_pages.py:223)
 - [Test that error handling is robust even when stack trace building fails.](tests/test_enhanced_error_pages.py:156)
 - [Test that error messages include the directory path for debugging.](tests/test_cid_directory_loader.py:307)
+- [test_error_output_includes_optional_fields](tests/test_external_api_error_response.py:12)
+- [test_error_output_omits_missing_optional_fields](tests/test_external_api_error_response.py:30)
 - [test_error_page_displays_git_sha_when_available](tests/test_error_pages.py:60)
 - [test_error_page_for_syntax_error_has_no_source_links](tests/test_error_pages.py:136)
 - [Test that error page has proper HTML structure and Bootstrap styling.](tests/test_error_page_source_links.py:357)
@@ -2186,7 +2218,9 @@
 - [test_error_page_strips_project_root_and_links_sources](tests/test_server_execution_error_pages.py:84)
 - [Test that the 500.html template properly renders source links.](tests/test_enhanced_error_pages.py:87)
 - [Test that the error page template has the correct structure for displaying source links.](tests/test_error_page_source_links.py:505)
+- [test_error_response_includes_type_and_content_type](tests/test_external_api_error_response.py:36)
 - [Error in segment prevents execution.](tests/test_pipeline_execution.py:517)
+- [test_errors_when_no_tokens_available](tests/test_external_api_oauth.py:117)
 - [Nested evaluation routes through the pipeline compatibility layer.](tests/test_pipeline_feature_flag.py:11)
 - [Test that exception chains are properly displayed with separators.](tests/test_error_page_source_links.py:300)
 - [Test that exception chains are properly displayed in browser.](tests/test_error_pages_e2e.py:127)
@@ -2342,6 +2376,7 @@
 - [Test that generating the same CID twice is idempotent.](tests/test_generate_boot_image.py:218)
 - [Test that literal CIDs (< 94 chars) are NOT stored in /cids.](tests/test_generate_boot_image.py:234)
 - [Test generating CID at DIRECT_CONTENT_EMBED_LIMIT boundary.](tests/test_cid_core.py:236)
+- [test_generate_basic_form_includes_fields_and_examples](tests/test_external_api_forms.py:6)
 - [Test generating boot.json.](tests/test_generate_boot_image.py:340)
 - [CID generation should yield the canonical encoding, be deterministic, and respect length limits.](tests/test_routes_comprehensive.py:106)
 - [Test generating CID for empty content.](tests/test_cid_editor_routes.py:68)
@@ -2354,6 +2389,7 @@
 - [Test generating CID for text content.](tests/test_cid_editor_routes.py:80)
 - [Test the complete generation process.](tests/test_generate_boot_image.py:387)
 - [Test generating CID for empty content.](tests/test_cid_core.py:212)
+- [test_generate_form_defaults_endpoint_to_server_name](tests/test_external_api_forms.py:45)
 - [Test that generate_gateways_json creates gateways.json file.](tests/test_generate_boot_image.py:625)
 - [Test that generate_gateways_json replaces file paths with CIDs.](tests/test_generate_boot_image.py:644)
 - [Test label generation for specific entity type.](tests/test_template_status.py:96)
@@ -2371,7 +2407,7 @@
 - [Test label when no UIs defined.](tests/test_ui_status.py:124)
 - [Test label for exactly one UI.](tests/test_ui_status.py:130)
 - [Test that generation handles missing files gracefully.](tests/test_generate_boot_image.py:438)
-- [test_generated_boot_json_files_use_cids_for_server_definitions](tests/test_boot_image_server_presence.py:184)
+- [test_generated_boot_json_files_use_cids_for_server_definitions](tests/test_boot_image_server_presence.py:192)
 - [Test with complex definition including options.](tests/test_db_access_alias_integration.py:115)
 - [Test when alias has empty definition.](tests/test_db_access_alias_integration.py:86)
 - [Test with multi-line definition (should use primary rule).](tests/test_db_access_alias_integration.py:98)
@@ -2386,6 +2422,7 @@
 - [get_all() produces equivalent results.](tests/test_db_access_equivalence.py:15)
 - [Test that _get_all_project_files discovers Python files.](tests/test_error_pages.py:264)
 - [Test that _get_all_project_files discovers various file types.](tests/test_error_pages.py:286)
+- [test_get_auth_header_includes_token_type](tests/test_external_api_oauth.py:105)
 - [Test that all passing jobs get light green background.](tests/test_build_report_site.py:395)
 - [Test that 5 failing jobs get red background.](tests/test_build_report_site.py:435)
 - [Test that 4 failing jobs get orange background.](tests/test_build_report_site.py:424)
@@ -2399,6 +2436,7 @@
 - [Test retrieving current server definitions CID](tests/test_server_definitions_cid.py:114)
 - [Test that CID is created if it doesn't exist](tests/test_variable_definitions_cid.py:147)
 - [Test getting CID when it already exists](tests/test_variable_definitions_cid.py:138)
+- [test_get_customer_requires_id](tests/test_external_server_stripe.py:64)
 - [Disk mode should return file-based URI.](tests/test_db_config.py:35)
 - [Disk mode should use DATABASE_URL if set.](tests/test_db_config.py:41)
 - [Memory mode should return in-memory URI.](tests/test_db_config.py:48)
@@ -2410,6 +2448,7 @@
 - [Test that _get_html_page includes Ace editor.](tests/test_urleditor.py:112)
 - [Test that _get_html_page returns HTML.](tests/test_urleditor.py:104)
 - [get_instance should return the same instance.](tests/test_db_config.py:107)
+- [test_get_issue_requires_issue_number](tests/test_external_server_github.py:71)
 - [Test link info generation with no templates.](tests/test_template_status.py:135)
 - [Test link info generation with templates.](tests/test_template_status.py:143)
 - [Test link info generation with entity type filter.](tests/test_template_status.py:158)
@@ -2469,6 +2508,7 @@
 - [Test getting templates for invalid entity type.](tests/test_template_manager.py:310)
 - [Test getting templates for servers type.](tests/test_template_manager.py:282)
 - [Test getting templates for uploads type.](tests/test_template_manager.py:394)
+- [test_get_ticket_requires_ticket_id](tests/test_external_server_zendesk.py:81)
 - [Total CID size should be 0 for empty database.](tests/test_cid_memory_manager.py:67)
 - [Total CID size should sum all CID sizes.](tests/test_cid_memory_manager.py:77)
 - [Test counting UIs for an entity.](tests/test_ui_manager.py:354)
@@ -2495,6 +2535,21 @@
 - [Test that GIT_SHA appears in HTML meta tag.](tests/test_git_sha_embedding.py:23)
 - [Test that GIT_SHA is read from environment variable.](tests/test_git_sha_embedding.py:10)
 - [Test that SHA can be found with grep (as per requirements).](tests/test_git_sha_embedding.py:76)
+- [test_google_invalid_json_response](tests/test_external_api_google_microsoft_auth.py:63)
+- [test_google_missing_field_returns_error](tests/test_external_api_google_microsoft_auth.py:55)
+- [test_google_missing_scopes_returns_validation_error](tests/test_external_api_google_microsoft_auth.py:119)
+- [test_google_oauth_refresh_error_response](tests/test_external_api_google_microsoft_auth.py:203)
+- [test_google_oauth_refresh_invalid_json](tests/test_external_api_google_microsoft_auth.py:219)
+- [test_google_oauth_refresh_missing_access_token](tests/test_external_api_google_microsoft_auth.py:234)
+- [test_google_oauth_refresh_missing_inputs](tests/test_external_api_google_microsoft_auth.py:161)
+- [test_google_oauth_refresh_missing_scopes_returns_error](tests/test_external_api_google_microsoft_auth.py:174)
+- [test_google_oauth_refresh_request_exception](tests/test_external_api_google_microsoft_auth.py:187)
+- [test_google_oauth_refresh_success](tests/test_external_api_google_microsoft_auth.py:145)
+- [test_google_request_exception_returns_structured_error](tests/test_external_api_google_microsoft_auth.py:131)
+- [test_google_service_account_custom_token_uri_is_used](tests/test_external_api_google_microsoft_auth.py:106)
+- [test_google_service_account_rejects_empty_subject](tests/test_external_api_google_microsoft_auth.py:94)
+- [test_google_service_account_subject_adds_sub_claim](tests/test_external_api_google_microsoft_auth.py:73)
+- [test_google_service_account_success](tests/test_external_api_google_microsoft_auth.py:41)
 - [Grep should match pattern from $1.](tests/test_bash_path_parameters.py:325)
 - [References should be detected even with multiple levels of aliasing.](tests/test_extract_context_references.py:79)
 - [test_handles_dict_without_keys](tests/test_server_execution.py:70)
@@ -2664,7 +2719,21 @@
 - [Test CID that is too short.](tests/test_cli.py:115)
 - [Should raise ValueError for invalid formats.](tests/test_cli_args_readonly.py:60)
 - [Invalid format fails validation.](tests/test_pipeline_execution.py:86)
+- [test_invalid_json_response_returns_error](tests/test_external_server_asana.py:110)
+- [test_invalid_json_response_returns_error](tests/test_external_server_github.py:120)
+- [test_invalid_json_response_returns_error](tests/test_external_server_google_sheets.py:181)
+- [test_invalid_json_response_returns_error](tests/test_external_server_notion.py:113)
+- [test_invalid_json_response_returns_error](tests/test_external_server_stripe.py:105)
+- [test_invalid_json_response_returns_error](tests/test_external_server_zendesk.py:123)
+- [test_invalid_json_returns_error](tests/test_external_api_webhooks.py:40)
+- [test_invalid_operation_returns_validation_error](tests/test_external_server_asana.py:46)
+- [test_invalid_operation_returns_validation_error](tests/test_external_server_github.py:54)
+- [test_invalid_operation_returns_validation_error](tests/test_external_server_stripe.py:52)
+- [test_invalid_operation_returns_validation_error](tests/test_external_server_zendesk.py:53)
+- [test_invalid_operation_validation_error](tests/test_external_server_notion.py:46)
 - [test_invalid_relative_link_is_left_unchanged](tests/test_markdown_rendering.py:324)
+- [test_invalid_service_account_json_returns_error](tests/test_external_server_google_sheets.py:73)
+- [test_invalid_signature_returns_error](tests/test_external_api_webhooks.py:28)
 - [Test that invalid status code raises ValueError.](tests/test_authorization.py:46)
 - [Test handling of invalid templates variable.](tests/test_db_access_templates.py:172)
 - [Test URL without host is invalid.](tests/test_cli.py:54)
@@ -2822,11 +2891,26 @@
 - [Test that /meta returns server info when CID is a server definition.](tests/test_meta_route.py:490)
 - [Test that /meta returns enhanced server metadata for urleditor.](tests/test_meta_route.py:470)
 - [Test that /meta/{CID} works for CID literal requests.](tests/test_meta_route.py:512)
+- [test_microsoft_client_credentials_success](tests/test_external_api_google_microsoft_auth.py:247)
+- [test_microsoft_error_response](tests/test_external_api_google_microsoft_auth.py:264)
+- [test_microsoft_missing_scopes_returns_validation_error](tests/test_external_api_google_microsoft_auth.py:272)
+- [test_microsoft_missing_secret](tests/test_external_api_google_microsoft_auth.py:256)
+- [test_microsoft_request_exception_returns_structured_error](tests/test_external_api_google_microsoft_auth.py:281)
 - [Test reverse MIME type lookup.](tests/test_mime_utils.py:26)
 - [Test MIME types with parameters (e.g., charset).](tests/test_mime_utils.py:77)
+- [test_missing_credentials_returns_error](tests/test_external_server_google_sheets.py:60)
 - [Test what happens when echo server doesn't exist](tests/test_echo_simple.py:103)
 - [test_missing_query_parameter_displays_notice](tests/test_glom_server_template.py:80)
+- [test_missing_required_fields](tests/test_external_server_asana.py:52)
+- [test_missing_required_fields](tests/test_external_server_github.py:39)
+- [test_missing_required_fields](tests/test_external_server_zendesk.py:38)
+- [test_missing_secret_error_marks_auth](tests/test_external_api_error_response.py:47)
 - [Absent sources should be surfaced even when no data exists.](tests/test_server_named_value_matrix.py:47)
+- [test_missing_spreadsheet_or_range_returns_validation_error](tests/test_external_server_google_sheets.py:52)
+- [test_missing_token_returns_auth_error](tests/test_external_server_asana.py:39)
+- [test_missing_token_returns_auth_error](tests/test_external_server_github.py:47)
+- [test_missing_token_returns_auth_error](tests/test_external_server_zendesk.py:46)
+- [test_missing_token_returns_error](tests/test_external_server_notion.py:39)
 - [Test mixing authorized and rejected requests.](tests/test_authorization_integration.py:140)
 - [Test model_as_dict with mixed object types](tests/test_model_as_dict.py:164)
 - [test_model_as_dict_ignores_disabled_entries](tests/test_variables_secrets_issue.py:154)
@@ -3025,6 +3109,8 @@
 - [Test URL upload without filename in path.](tests/test_upload_handlers.py:153)
 - [test_process_url_upload_wraps_generic_errors](tests/test_process_url_upload.py:66)
 - [test_process_url_upload_wraps_request_exceptions](tests/test_process_url_upload.py:58)
+- [test_process_webhook_invalid_signature](tests/test_external_server_stripe.py:156)
+- [test_process_webhook_valid_signature](tests/test_external_server_stripe.py:138)
 - [Ensure authenticated users can load their profile page with a 200 response.](tests/test_routes_comprehensive.py:1087)
 - [test_proxy_template_forwards_request](tests/test_proxy_template.py:26)
 - [test_proxy_template_handles_root_paths](tests/test_proxy_template.py:97)
@@ -3051,12 +3137,15 @@
 - [Test that READ_ONLY environment variable enables both read-only mode and sets database to memory mode.](tests/test_vercel_entry_point.py:13)
 - [Test that READ_ONLY=false does not enable read-only mode.](tests/test_vercel_entry_point.py:80)
 - [Test that various true values enable read-only mode.](tests/test_vercel_entry_point.py:135)
+- [test_read_with_service_account_uses_auth_manager_and_returns_payload](tests/test_external_server_google_sheets.py:128)
 - [Test realistic usage scenarios](tests/test_serve_cid_integration.py:182)
 - [record_entity_interaction() produces equivalent results.](tests/test_db_access_equivalence.py:260)
 - [test_record_entity_interaction_persists](tests/test_entity_interactions.py:31)
 - [test_record_entity_interaction_rejects_invalid_payload](tests/test_entity_interactions.py:81)
 - [record_export should accept ValidatedCID inputs and persist value.](tests/test_db_access.py:479)
 - [test_reenabled_alias_matches_requests](tests/test_alias_routing.py:138)
+- [test_refresh_uses_explicit_refresh_token](tests/test_external_api_oauth.py:88)
+- [test_refreshes_token_when_expired](tests/test_external_api_oauth.py:57)
 - [Test helper methods with regex definitions.](tests/test_alias_model.py:162)
 - [Test that register_standard_crud_routes creates all 4 routes.](tests/test_crud_factory.py:236)
 - [Test register_standard_crud_routes registers new/edit if template is present.](tests/test_crud_factory.py:414)
@@ -3122,8 +3211,18 @@
 - [test_replace_primary_definition_line_preserves_indentation](tests/test_alias_definition.py:317)
 - [Test repr() conversion.](tests/test_cid_class.py:259)
 - [Test that __repr__ uses the helper methods.](tests/test_alias_model.py:123)
+- [test_request_exception_returns_error](tests/test_external_server_asana.py:96)
+- [test_request_exception_returns_error](tests/test_external_server_github.py:106)
+- [test_request_exception_returns_error](tests/test_external_server_notion.py:105)
+- [test_request_exception_returns_error](tests/test_external_server_stripe.py:97)
+- [test_request_exception_returns_error](tests/test_external_server_zendesk.py:109)
+- [test_request_exceptions_include_status](tests/test_external_server_google_sheets.py:163)
+- [test_request_logs_and_raises_request_exception](tests/test_external_api_http_client.py:68)
+- [test_request_uses_defaults_and_logs](tests/test_external_api_http_client.py:34)
+- [test_request_uses_provided_timeout](tests/test_external_api_http_client.py:57)
 - [test_require_invitation_removed](tests/test_routes_comprehensive.py:1141)
 - [Test required parameter.](tests/test_pipeline_execution.py:555)
+- [test_requires_api_key_for_api_operations](tests/test_external_server_stripe.py:45)
 - [test_requires_login](tests/test_routes_overview.py:41)
 - [Reset should restore defaults.](tests/test_readonly_config.py:39)
 - [Reset should return to disk mode.](tests/test_db_config.py:59)
@@ -3150,6 +3249,8 @@
 - [test_resolves_from_query_string](tests/test_server_execution.py:331)
 - [test_resolves_variables_from_alias_attributes](tests/test_alias_definition.py:623)
 - [Convert result with segments.](tests/test_pipeline_debug.py:162)
+- [test_retrieve_requires_page_id](tests/test_external_server_notion.py:52)
+- [test_returns_cached_token_when_not_expired](tests/test_external_api_oauth.py:39)
 - [IO server should return dict with output key.](tests/test_io_server_integration.py:99)
 - [Missing or empty definitions should result in empty lists.](tests/test_extract_context_references.py:8)
 - [test_returns_empty_for_exact_match](tests/test_server_execution.py:620)
@@ -3287,6 +3388,12 @@
 - [test_skips_entries_without_definition](tests/test_alias_definition.py:443)
 - [test_skips_entries_without_name](tests/test_alias_definition.py:434)
 - [test_skips_none_entries](tests/test_alias_definition.py:425)
+- [test_slack_api_error_includes_status](tests/test_external_servers_slack_airtable.py:55)
+- [test_slack_dry_run_preview](tests/test_external_servers_slack_airtable.py:48)
+- [test_slack_invalid_json_returns_error](tests/test_external_servers_slack_airtable.py:92)
+- [test_slack_missing_token_returns_error](tests/test_external_servers_slack_airtable.py:41)
+- [test_slack_request_exception_carries_status](tests/test_external_servers_slack_airtable.py:73)
+- [test_slack_success_returns_api_payload](tests/test_external_servers_slack_airtable.py:108)
 - [Test CID with directly embedded content.](tests/test_cid_editor_helper.py:56)
 - [Test that small content (<=64 bytes) is literal.](tests/test_cid_core.py:264)
 - [Snapshot flags should default to None/False.](tests/test_cli_args.py:47)
@@ -3337,12 +3444,21 @@
 - [Test that identical content doesn't create duplicate CIDs](tests/test_variable_definitions_cid.py:122)
 - [test_stores_missing_parameters](tests/test_server_execution.py:749)
 - [Test str() conversion.](tests/test_cid_class.py:254)
+- [test_stripe_signature_accepts_any_matching_v1](tests/test_external_api_webhooks.py:69)
+- [test_stripe_signature_rejects_invalid_timestamp](tests/test_external_api_webhooks.py:85)
+- [test_stripe_signature_rejects_outside_tolerance](tests/test_external_api_webhooks.py:98)
+- [test_stripe_signature_validates_with_timestamp_and_payload](tests/test_external_api_webhooks.py:53)
 - [test_strips_comment_with_leading_space](tests/test_alias_definition.py:368)
 - [test_strips_inline_comment](tests/test_alias_definition.py:346)
 - [test_subscribe_route_removed](tests/test_routes_comprehensive.py:1117)
 - [test_substitutes_multiple_variables](tests/test_alias_definition.py:467)
 - [test_substitutes_single_variable](tests/test_alias_definition.py:462)
 - [test_substitutes_variables_in_definition](tests/test_alias_definition.py:586)
+- [test_success_returns_data](tests/test_external_server_asana.py:142)
+- [test_success_returns_payload](tests/test_external_server_github.py:153)
+- [test_success_returns_payload](tests/test_external_server_notion.py:134)
+- [test_success_returns_payload](tests/test_external_server_stripe.py:126)
+- [test_success_returns_payload](tests/test_external_server_zendesk.py:156)
 - [Test that authorized API requests succeed.](tests/test_authorization_integration.py:17)
 - [test_successful_import_creates_entries](tests/test_import_export.py:1264)
 - [Test that authorized requests return successfully.](tests/test_authorization_integration.py:12)
@@ -3477,7 +3593,11 @@
 - [Test valid http URL.](tests/test_cli.py:30)
 - [Test valid https URL.](tests/test_cli.py:36)
 - [Valid literal CID passes validation.](tests/test_pipeline_execution.py:80)
+- [test_valid_signature_processes_payload](tests/test_external_api_webhooks.py:15)
 - [Test URL starting with / is valid.](tests/test_cli.py:24)
+- [test_validate_api_key_handles_forbidden](tests/test_external_api_secrets.py:72)
+- [test_validate_api_key_handles_unauthorized](tests/test_external_api_secrets.py:59)
+- [test_validate_api_key_with_endpoint_returns_none_for_success](tests/test_external_api_secrets.py:40)
 - [Test validation with an empty directory.](tests/test_validate_cids.py:127)
 - [Test validation with both short and long filenames.](tests/test_validate_cids.py:75)
 - [Test that CIDs with filenames >= 94 characters are validated correctly.](tests/test_validate_cids.py:53)
@@ -3489,6 +3609,8 @@
 - [Valid auto main definitions should report parameter metadata.](tests/test_server_definition_validation_route.py:32)
 - [Test that large modules are properly detected.](tests/test_validate_import_export_integration.py:229)
 - [Test validating a properly refactored module structure.](tests/test_validate_import_export_integration.py:137)
+- [test_validate_secret_custom_validator_rejects](tests/test_external_api_secrets.py:33)
+- [test_validate_secret_missing_value_returns_error](tests/test_external_api_secrets.py:25)
 - [Test validation of empty string.](tests/test_template_manager.py:178)
 - [Test validation of invalid JSON.](tests/test_template_manager.py:185)
 - [Test validation when missing required key.](tests/test_template_manager.py:199)
@@ -3506,6 +3628,7 @@
 - [Test validation when UI is missing path field.](tests/test_ui_manager.py:225)
 - [Test validation when UIs for entity is not an array.](tests/test_ui_manager.py:199)
 - [Test validation of valid UIs JSON.](tests/test_ui_manager.py:158)
+- [test_validation_and_api_error_helpers_include_details](tests/test_external_api_error_response.py:54)
 - [Test that validation results include comprehensive details.](tests/test_validate_import_export_integration.py:390)
 - [Test value property returns normalized CID.](tests/test_cid_class.py:161)
 - [Variable values pointing at paths should resolve to page content.](tests/test_routes_comprehensive.py:2220)

Error: TEST_INDEX.md is out of date!
Please run 'python generate_test_index.py' and commit the changes.
